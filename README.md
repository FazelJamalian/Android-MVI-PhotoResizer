๐ธ Photo Resizer (Android)

ฺฉ ุงูพูฺฉุดู ุงูุฏุฑูุฏ ุจุฑุง ุชุบุฑ ุงูุฏุงุฒูุ ฺฉูุช ู ูุฑูุช ุชุตุงูุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ FFmpegุ ููุดุชูโุดุฏู ุจุง Kotlin ู Jetpack Composeุ ุจุง ูุนูุงุฑ ุชูุฒ ู ุจููู.

ุงู ูพุฑูฺู ุงุฒ ุงูฺฏู Preview ุณุฑุน / Save ุฏูู ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ูู ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุฑูุงู ุจุงุดุฏ ู ูู ูุงูโูุง ุงุถุงู ุฑู ุฏุณุชฺฏุงู ุณุงุฎุชู ูุดููุฏ.

โจ ูฺฺฏโูุง

ุชุบุฑ ุงูุฏุงุฒู ุชุตูุฑ ุจุง ุญูุธ ูุณุจุช ุชุตูุฑ

ุชูุธู ฺฉูุช ุฎุฑูุฌ

ุฎุฑูุฌ ุฏุฑ ูุฑูุชโูุง ูุฎุชูู (JPG / PNG / WebP)

Preview ุณุฑุน ุจุฏูู ุฐุฎุฑู ุฏุฑ ฺฏุงูุฑ

ุฐุฎุฑู ููุง ููุท ุจุง ุชุฃุฏ ฺฉุงุฑุจุฑ

ุจุฏูู ูุงู ุงุถุงู ุง ูููุช ุฏุฑ Pictures

ุณุงุฒฺฏุงุฑ ุจุง Android 10+ (Scoped Storage)

ูุนูุงุฑ MVI + ViewModel

UI ุจุง Jetpack Compose

๐ง ูุนูุงุฑ Preview ุณุฑุน / Save ุฏูู

ุงู ูพุฑูฺู ุฏู ูุณุฑ ฺฉุงููุงู ุฌุฏุง ุจุฑุง ูพุฑุฏุงุฒุด ุชุตูุฑ ุฏุงุฑุฏ:

1๏ธโฃ Preview (ุณุฑุน ู ูููุช)

ุงุฌุฑุง ุจุง FFmpeg

ุฎุฑูุฌ ุฏุฑ cacheDir

ูุงู ุซุงุจุช (preview.xxx) ฺฉู ูุฑ ุจุงุฑ overwrite ูโุดูุฏ

ููุท ุจุฑุง ููุงุด ุฏุฑ UI

ูฺ ูุงู ูุงุฑุฏ ฺฏุงูุฑ ููโุดูุฏ

2๏ธโฃ Save ููุง (ุฏูู ู ูพุงุฏุงุฑ)

FFmpeg ุฏูุจุงุฑู ุงุฌุฑุง ูโุดูุฏ

ุฎุฑูุฌ ูุณุชููุงู ุฏุฑ MediaStore ุฐุฎุฑู ูโุดูุฏ

ููุท ฺฉ ูุงู ููุง ุฏุฑ ูพูุดู Pictures

ุจุฏูู race condition ุง ูุงู ูุงูุต

๐ ุชฺฉููููฺโูุง

Kotlin

Jetpack Compose

ViewModel + StateFlow

FFmpegKit

MediaStore (Scoped Storage)

Hilt (Dependency Injection)

Coroutines

๐ ุณุงุฎุชุงุฑ ฺฉู ูพุฑูฺู

data/
 โโโ FFmpegImageCompressor.kt

domain/
 โโโ model/
     โโโ EditState.kt

presentation/
 โโโ ui/
 โ   โโโ intent/
 โ       โโโ EditIntent.kt
 โโโ viewmodel/
     โโโ EditViewModel.kt

๐ ุฌุฑุงู ฺฉุงุฑ ุจุฑูุงูู

ฺฉุงุฑุจุฑ ุชุตูุฑ ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ

ุจุง ุชุบุฑ ุงุณูุงุฏุฑูุง:

FFmpeg ุจุฑุง preview ุงุฌุฑุง ูโุดูุฏ

ูุชุฌู ููุท ุฏุฑ cache ุฐุฎุฑู ูโุดูุฏ

Preview ุจูุงูุงุตูู ุฏุฑ UI ููุงุด ุฏุงุฏู ูโุดูุฏ

ุจุง ุฒุฏู ุฏฺฉูู ยซุฐุฎุฑูยป:

FFmpeg ุฏูุจุงุฑู ุจุง ุชูุธูุงุช ููุง ุงุฌุฑุง ูโุดูุฏ

ุชุตูุฑ ุฏุฑ ูพูุดู Pictures ุฐุฎุฑู ูโุดูุฏ

ูุงูโูุง ูููุช ูพุงฺฉ ูโุดููุฏ

๐ ูุญุงุณุจู ุญุฌู ูุงู

ุจุฑุง preview (file://):

ุงูุฏุงุฒู ุจุง File.length() ูุญุงุณุจู ูโุดูุฏ

ุจุฑุง ูุงู ููุง (content://):

ุงูุฏุงุฒู ุงุฒ ContentResolver ู OpenableColumns.SIZE ฺฏุฑูุชู ูโุดูุฏ

ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ููุฏุงุฑ ุญุฌู ููุดู ุฏุฑุณุช ููุงุด ุฏุงุฏู ุดูุฏ.

๐ ูุฒุงุง ุงู ูุนูุงุฑ

ูุตุฑู ุญุงูุธู ฺฉู

ุจุฏูู ุดููุบ ุดุฏู ฺฏุงูุฑ

UI ุณุฑุน ู ุฑูุงู

ุจุฏูู ูุงุฒ ุจู delay ุง ุฏูุจุงุฑ ุฐุฎุฑู

ุฑูุชุงุฑ ูุดุงุจู ุงูพโูุง ุญุฑููโุง ูุซู Lightroom ู Snapseed


๐ ูุงุณูุณ

ุงู ูพุฑูฺู ุจุฑุง ุงุณุชูุงุฏู ุขููุฒุด ู ุชูุณุนู ุดุฎุต ููุชุดุฑ ุดุฏู ุงุณุช.
ุฏุฑ ุตูุฑุช ุงุณุชูุงุฏู ุชุฌุงุฑุ ูุณุฆููุช ุฑุนุงุช ูุงุณูุณ FFmpeg ุจุฑ ุนูุฏู ุชูุณุนูโุฏููุฏู ุงุณุช.
